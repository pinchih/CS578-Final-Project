#What's this?
This is a final project for Software Architecture ( CSCI578 ) at University of Southern California. In this project, we designed and implemented a web-based tool that enables users to check if installed apps on their Android devices are exposed to any threats of Inter-Component Communication (ICC) attacks and users can see a visualized result of overall architecture of targeted apps and also the potential vulnerable paths among applications. The analysis tools that we used in this project are [COVERT](http://www.sdalab.com/tools/covert) and [DidFail](https://www.cs.cmu.edu/~wklieber/didfail/).

#Members
* [Chris Daniels](https://github.com/chris-daniels)
* [Pin-Chih Lin](https://github.com/pinchih)
* [Tomita Tatsuhiko](https://github.com/tomitatsu)

#An overview of the system     
![picture alt](https://github.com/pinchih/CS578-Final-Project/blob/master/image/system_graph.png?raw=true)

#Overall system architecture visualization example
![](/image/overall_system_architecture_example.gif)
The overall system architecture visulaization gives you glance of how your application and other applications that we chosen interact with each other in terms of ICC calls. You may mouse over the path info icon to see what components were interacting, or mouse over the node to see what user permissions are alloed for this application. If you would like to know the interaction among components within an application, just click the name of that app, it will open up another window and show you the result.

#Vulnerable paths visualization example
![](https://github.com/pinchih/CS578-Final-Project/blob/master/image/VulnerablePath_example.gif?raw=true)
The vulunerable path visualization gives you the sense of what are the vulnerable paths suggested by the analysis tool, including COVERT and DidFail. The path suggested by COVERT will have a little C icon attached to the link while DidFail will have a D icon. Uers can mouse over the icon to see the detail of the vulnerable path.

#Intra Component Communication within an application
![](https://github.com/pinchih/CS578-Final-Project/blob/master/image/intra_compo_example.gif?raw=true)
Overall system architecture and vulnerable paths visualization show the ICC calls among applications, but if users would like to know what components are interacting with what components inside an application, just simply click the name of the application in either overall system architecture or vulnerable paths visualization, a new window will open and show you the intra component communications.

#Tools and how to use them
- OverallArchitectureXMLConverter.py
  - This tool takes inputs of series of XML files generated by COVERT, gathers information for the inter- and intra-ICC relationships and output them as a JSON file in a pre-defined format, which will later be used for overall architecture visualization.
  - All the inputs XML from COVERT should be placed within the overallArchitecture folder.
  - The output file will be a overallArchitecture.json.

- VulnerablePathXMLConverter.py
  - This tool takes one XML files (pre-named apkfiles.xml) generated by COVERT , gathers information for vulnerable paths and output a JSON file in a pre-defined format, which will later be used by VulnerablePathDidFail.py.
  - The input apkfiles.xml should be placed within the overallArchitecture folder.
  - The output file will be a graph.json.

- VulnerablePathDidFail.py
  - This tool takes inputs of series of XML files (*.fd.xml) and one flow.out file generated by DidFail. It looks into analysis results, gathers the information about potential vulnerable paths and combine these information to the JSON file which generated by VulnerablePathXMLConverter.py.
  - All the *.fd.xml files and the flow.out file should be placed within the overallArchitecture folder.
  - The output file will be a graph.json, which overrided the original graph.json generated by VulnerablePathXMLConverter.py.

#Usage
Go to our [website](http://192.241.189.66/top.html), upload your applications, and see the analysis results.(Please note that at any point in the future, the server might went done due to limitation of the usage of the server.)

#Architectural pattern/styles used

#Reference tools/libraries/web services
* Beautiful Soup ([https://www.crummy.com/software/BeautifulSoup/](https://www.crummy.com/software/BeautifulSoup/))
* D3.js ([https://d3js.org/](https://d3js.org/))
* DigitalOcean ([https://www.digitalocean.com/](https://www.digitalocean.com/))
* DidFail ([https://www.cs.cmu.edu/~wklieber/didfail/](https://www.cs.cmu.edu/~wklieber/didfail/))
* COVERT ([http://www.sdalab.com/tools/covert](http://www.sdalab.com/tools/covert))






